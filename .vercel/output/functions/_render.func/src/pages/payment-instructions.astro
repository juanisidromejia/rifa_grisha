---
import HeaderGrisha from "../components/HeaderGrisha.astro";
---

<html lang="en">
    <head>
        <meta charset="utf-8" />
        <link rel="icon" type="image/svg+xml" href="/favicon.svg" />
        <meta name="viewport" content="width=device-width" />
        <meta name="generator" content={Astro.generator} />
        <title>Rifa Grisha - Instrucciones de Pago</title>
        <style>
            body {
                font-family: sans-serif;
                line-height: 1.6;
                margin: 0;
                padding: 0;
                background-color: #f4f4f4;
                color: #333;
            }
            main {
                max-width: 800px;
                margin: 50px auto;
                padding: 30px;
                background: #fff;
                border-radius: 8px;
                box-shadow: 0 2px 8px rgba(0, 0, 0, 0.1);
            }
            h1 {
                color: #764ba2;
                font-size: 2.5rem;
                margin-bottom: 25px;
                text-align: center;
            }
            h2 {
                color: #28a745;
                font-size: 1.8rem;
                margin-top: 30px;
                margin-bottom: 15px;
            }
            p {
                margin-bottom: 15px;
                font-size: 1.1rem;
            }
            ul {
                list-style-type: none;
                padding: 0;
                margin-bottom: 20px;
            }
            ul li {
                background-color: #eef4f9;
                padding: 15px;
                border-left: 5px solid #667eea;
                margin-bottom: 10px;
                border-radius: 5px;
                display: flex;
                flex-direction: column;
            }
            ul li strong {
                color: #667eea;
                font-size: 1.15rem;
                margin-bottom: 5px;
            }
            .whatsapp-contact {
                margin-top: 40px;
                background-color: #d4edda;
                padding: 20px;
                border-radius: 8px;
                text-align: center;
                border: 1px solid #c3e6cb;
            }
            .whatsapp-contact p {
                font-size: 1.1rem;
                color: #155724;
            }
            .whatsapp-contact a {
                display: inline-flex;
                align-items: center;
                gap: 8px;
                background-color: #25d366;
                color: white;
                padding: 10px 20px;
                border-radius: 5px;
                text-decoration: none;
                font-weight: bold;
                transition: background-color 0.3s ease;
            }
            .whatsapp-contact a:hover {
                background-color: #1da851;
            }
            .whatsapp-icon {
                width: 20px;
                height: 20px;
                vertical-align: middle;
            }
            .home-button {
                display: inline-block;
                background-color: #764ba2;
                color: white;
                padding: 12px 25px;
                border-radius: 5px;
                text-decoration: none;
                font-weight: bold;
                margin-top: 30px;
                font-size: 1.1rem;
                transition: background-color 0.3s ease;
            }
            .home-button:hover {
                background-color: #6a3e90;
            }
        </style>
    </head>
    <body>
        <HeaderGrisha />
        <main>
            <h1>Instrucciones para Realizar tu Pago</h1>
            <p>
                ¡Felicidades! Tu correo ha sido verificado. Ahora estás a un
                paso de participar en la <strong>Rifa por Grisha</strong> y tener
                la oportunidad de ganar una increíble guitarra de concierto.
            </p>
            <p>
                Por favor, realiza tu pago utilizando alguna de las siguientes
                opciones. Una vez completado, recuerda enviar el comprobante de
                pago por WhatsApp para una verificación rápida.
            </p>

            <h2>Opciones de Pago</h2>
            <ul>
                <li>
                    <strong>Transferencia Bancaria:</strong>
                    <p>Banco: [Nombre de tu Banco]</p>
                    <p>Cuenta No.: [Número de Cuenta]</p>
                    <p>Tipo de Cuenta: [Ahorros/Corriente]</p>
                    <p>Beneficiario: [Tu Nombre/Razón Social]</p>
                    <p>C.I./RUC: [Tu Cédula/RUC]</p>
                </li>
                <li>
                    <strong>Deuna / Peigo (Ecuador):</strong>
                    <p>Alias o Número: [Tu Alias o Número de Deuna/Peigo]</p>
                    <p>
                        Puedes escanear este QR (si lo tienes alojado online,
                        inserta aquí la imagen con <img
                            src="/tu-qr.png"
                            alt="Código QR Deuna/Peigo"
                            style="max-width: 150px; display: block; margin-top: 10px;"
                        /> o indica al usuario que lo solicite por WhatsApp).
                    </p>
                </li>
                <li>
                    <strong>PayPhone:</strong>
                    <p>Link de Pago: [Tu enlace de PayPhone]</p>
                </li>
                <li>
                    <strong>PayPal:</strong>
                    <p>
                        Enlace PayPal: [Tu enlace de PayPal.Me o correo PayPal]
                    </p>
                </li>
            </ul>

            <div class="whatsapp-contact">
                <p>
                    <strong>Paso final:</strong> Una vez realizado el pago, por favor,
                    envíanos el comprobante a nuestro WhatsApp para que podamos verificarlo.
                </p>
                <a
                    id="whatsapp-comprobante-link"
                    href="https://wa.me/+593981985015?text=Hola!%20Ya%20realic%C3%A9%20el%20pago%20para%20la%20rifa.%20Mi%20correo%20es%20[TU%20CORREO]"
                    \
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    <img
                        src="/whatsapp-icon.svg"
                        alt="WhatsApp Icon"
                        class="whatsapp-icon"
                    />
                    Enviar Comprobante por WhatsApp
                </a>
                <p
                    style="font-size: 0.9em; margin-top: 10px;"
                    id="whatsapp-note-text"
                >
                    (El correo de registro se incluirá automáticamente en el
                    mensaje.)
                </p>
            </div>

            <p style="text-align: center; margin-top: 40px;">
                Una vez verificado tu pago, te asignaremos y enviaremos tus dos
                números de rifa únicos por correo electrónico. ¡Mucha suerte!
            </p>

            <a href="/" class="home-button">Volver al Inicio</a>
        </main>
        <script is:inline>
            document.addEventListener("DOMContentLoaded", () => {
                const urlParams = new URLSearchParams(window.location.search);
                const userEmail = urlParams.get("email");
                const whatsappLinkElement = document.getElementById(
                    "whatsapp-comprobante-link",
                );
                const whatsappNoteText =
                    document.getElementById("whatsapp-note-text");

                if (userEmail && whatsappLinkElement) {
                    const baseHref = "https://wa.me/+593981985015?text=";
                    const messageText = encodeURIComponent(
                        `Hola! Ya realicé el pago para la rifa, ahora enviaré el comprobante.  Mi correo es ${userEmail}`,
                    );
                    whatsappLinkElement.href = `${baseHref}${messageText}`;
                    if (whatsappNoteText) {
                        whatsappNoteText.textContent =
                            "Tu correo electrónico se ha añadido automáticamente al mensaje de WhatsApp.";
                    }
                } else if (whatsappNoteText) {
                    whatsappNoteText.textContent =
                        "Para que podamos identificarte rápidamente, por favor, incluye tu correo electrónico en el mensaje de WhatsApp.";
                }
            });
        </script>
    </body>
</html>
